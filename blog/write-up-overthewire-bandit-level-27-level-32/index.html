<!doctype html><html lang=en>
<head>
<title>
Write-up: OverTheWire - Bandit Level 27 → Level 32 | Justin Perdok
</title>
<meta name=title content="Write-up: OverTheWire - Bandit Level 27 → Level 32 | Justin Perdok">
<meta charset=utf-8>
<meta http-equiv=x-ua-compatible content="chrome=1">
<meta name=HandheldFriendly content="True">
<meta name=MobileOptimized content="320">
<meta name=viewport content="width=device-width,initial-scale=1">
<meta name=referrer content="no-referrer-when-downgrade">
<base href=https://justin-p.me/>
<meta name=description content="IT Geek, Ethical Hacker, DevOps Nut, PowerShell Fanatic and lover of beers🍻">
<meta name=author content="Justin Perdok">
<meta name=twitter:card content="summary_large_image">
<meta name=twitter:site content="@JustinPerdok">
<meta name=twitter:creator content="@JustinPerdok">
<meta property="og:title" content="Write-up: OverTheWire - Bandit Level 27 → Level 32 | Justin Perdok">
<meta property="og:type" content="website">
<meta property="og:url" content="https://justin-p.me/">
<meta property="og:image" content="https://justin-p.me//images/osprey.png">
<meta property="og:description" content="IT Geek, Ethical Hacker, DevOps Nut, PowerShell Fanatic and lover of beers🍻">
<link rel=icon type=image/png sizes=16x16 href=favicon.ico>
<meta name=theme-color content="#FFF">
<link rel=canonical href=https://justin-p.me/blog/write-up-overthewire-bandit-level-27-level-32/>
<link rel=stylesheet href=https://justin-p.me/style.3d9ed0c8ed4a7de59d1a99f6c56fa9ab43daaa5b8951f2082b11faa9417532b8.css type=text/css>
<style>.lazyload{opacity:.0001}.logo .lazyload{min-width:10em}</style>
<script src=https://justin-p.me/js/vendor/lazysizes.min.js async></script>
<link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/github.min.css>
</head>
<body>
<nav class="row middle-xs center-xs">
<div class="col-xs-6 col-sm-1 logo">
<a href=https://justin-p.me/#><img data-src=https://justin-p.me/images/me.png class=lazyload lazyload=on alt="Justin Perdok"></a>
</div>
<div class="col-xs-3 col-sm-2">
<h3><a href=https://justin-p.me/#about>About</a></h3>
</div>
<div class="col-xs-3 col-sm-2">
<h3><a href=https://justin-p.me/#work>Work</a></h3>
</div>
<div class="col-xs-3 col-sm-2">
<h3><a href=https://justin-p.me/#blog>Blog</a></h3>
</div>
<div class="col-xs-6 col-sm-1 nav-toggle">
<a href class=nav-icon onclick=return!1>
<img data-src=https://justin-p.me/images/icon-menu.png class=lazyload lazyload=on alt="Open Menu">
<img data-src=https://justin-p.me/images/icon-x.png class=lazyload lazyload=on alt="Close Menu" style=display:none>
</a>
</div>
</nav>
<section class="nav-full row middle-xs center-xs">
<div class=col-xs-12>
<div class="row middle-xs center-xs">
<div class=col-xs-12><h1><a href=https://justin-p.me/#about>About</a></h1></div>
<div class=col-xs-12><h1><a href=https://justin-p.me/#work>Work</a></h1></div>
<div class=col-xs-12><h1><a href=https://justin-p.me/#blog>Blog</a></h1></div>
</div>
</div>
</section>
<main>
<section class=container>
<section class=content>
<h1> Write-up: OverTheWire - Bandit Level 27 → Level 32 </h1>
<div class=sub-header>
September 12, 2019 · 8 minutes read
</div>
<article class=entry-content>
<p>Bandit level 27 → level 32 will use our MoreVimShell created in Bandit level 26 → level 27.</p>
<h3 id=bandit-level-27--level-28>Bandit Level 27 → Level 28</h3>
<p><strong>Level Goal:</strong>
<em>There is a git repository at ssh://bandit27-git@localhost/home/bandit27-git/repo. The password for the user bandit27-git is the same as for the user bandit27.</em></p>
<p>It seems we now move on to some <code>git</code>. If you have no idea what <code>git</code> is, give <a href=https://rogerdudler.github.io/git-guide/>this a read.</a></p>
<p>Lets setup a workspace where we call pull the <code>git</code> repo to.</p>
<pre tabindex=0><code>bandit26@bandit:$ mkdir /tmp/giv_git
bandit26@bandit:$ cd /tmp/giv_git
bandit26@bandit:/tmp/giv_pass$
bandit26@bandit:/tmp/giv_git$ git clone ssh://bandit27-git@localhost/home/bandit27-git/repo.git
Cloning into 'repo'...
The authenticity of host 'localhost (127.0.0.1)' can't be established.
ECDSA key fingerprint is SHA256:98UL0ZWr85496EtCRkKlo20X3OPnyPSB5tB5RPbhczc.
Are you sure you want to continue connecting (yes/no)? yes
Failed to add the host to the list of known hosts (/home/bandit26/.ssh/known_hosts).


bandit27-git@localhost's password:
remote: Counting objects: 3, done.
remote: Compressing objects: 100% (2/2), done.
remote: Total 3 (delta 0), reused 0 (delta 0)
Receiving objects: 100% (3/3), done.
bandit26@bandit:/tmp/giv_git$ ls
repo
</code></pre><p>Lets <code>cd</code> into the cloned folder and <code>cat</code> whats inside.</p>
<pre tabindex=0><code>bandit26@bandit:/tmp/giv_git$ cd repo/
bandit26@bandit:/tmp/giv_git/repo$ ls
README
bandit26@bandit:/tmp/giv_git/repo$ cat README
The password to the next level is: 0ef186ac70e04ea33b4c1853d2526fa2
</code></pre><h3 id=bandit-level-28--level-29>Bandit Level 28 → Level 29</h3>
<p><strong>Level Goal:</strong>
*There is a git repository at ssh://bandit28-git@localhost/home/bandit28-git/repo. The password for the user bandit28-git is the same as for the user bandit28.
*</p>
<p>Lets remove the old repo and clone the new one and <code>cd</code> into it.</p>
<pre tabindex=0><code>bandit26@bandit:/tmp/giv_git/repo$ cd ..
bandit26@bandit:/tmp/giv_git$ rm repo/ -rf
bandit26@bandit:/tmp/giv_git$ git clone ssh://bandit28-git@localhost/home/bandit28-git/repo.git
Cloning into 'repo'...
The authenticity of host 'localhost (127.0.0.1)' can't be established.
ECDSA key fingerprint is SHA256:98UL0ZWr85496EtCRkKlo20X3OPnyPSB5tB5RPbhczc.
Are you sure you want to continue connecting (yes/no)? yes
Failed to add the host to the list of known hosts (/home/bandit26/.ssh/known_hosts).


bandit28-git@localhost's password:
remote: Counting objects: 9, done.
remote: Compressing objects: 100% (6/6), done.
remote: Total 9 (delta 2), reused 0 (delta 0)
Receiving objects: 100% (9/9), done.
Resolving deltas: 100% (2/2), done.
bandit26@bandit:/tmp/giv_git$ ls
repo
bandit26@bandit:/tmp/giv_git$ cd repo/
bandit26@bandit:/tmp/giv_git/repo$ ls -la
total 16
drwxr-sr-x 3 bandit26 root 4096 Sep 11 17:11 .
drwxr-sr-x 3 bandit26 root 4096 Sep 11 17:11 ..
drwxr-sr-x 8 bandit26 root 4096 Sep 11 17:11 .git
-rw-r--r-- 1 bandit26 root  111 Sep 11 17:11 README.md
</code></pre><p>Since there probably won&rsquo;t be a password in the README.md this time lets look at the <code>git logs</code> .</p>
<p>Here we see some previous commits with a reference to a info leak.</p>
<pre tabindex=0><code>bandit26@bandit:/tmp/giv_git/repo$ git log
commit 073c27c130e6ee407e12faad1dd3848a110c4f95
Author: Morla Porla &lt;morla@overthewire.org&gt;
Date:   Tue Oct 16 14:00:39 2018 +0200

    fix info leak

commit 186a1038cc54d1358d42d468cdc8e3cc28a93fcb
Author: Morla Porla &lt;morla@overthewire.org&gt;
Date:   Tue Oct 16 14:00:39 2018 +0200

    add missing data

commit b67405defc6ef44210c53345fc953e6a21338cc7
Author: Ben Dover &lt;noone@overthewire.org&gt;
Date:   Tue Oct 16 14:00:39 2018 +0200

    initial commit of README.md
</code></pre><p>Lets git checkout that commit and <code>cat</code> the README.md file.</p>
<pre tabindex=0><code>bandit26@bandit:/tmp/giv_git/repo$ git checkout 186a1038cc54d1358d42d468cdc8e3cc28a93fcb
Note: checking out '186a1038cc54d1358d42d468cdc8e3cc28a93fcb'.

You are in 'detached HEAD' state. You can look around, make experimental
changes and commit them, and you can discard any commits you make in this
state without impacting any branches by performing another checkout.

If you want to create a new branch to retain commits you create, you may
do so (now or later) by using -b with the checkout command again. Example:

  git checkout -b &lt;new-branch-name&gt;

HEAD is now at 186a103... add missing data
bandit26@bandit:/tmp/giv_git/repo$ cat README.md

##Bandit Notes

Some notes for level29 of bandit.

## credentials

- username: bandit29
- password: bbc96594b4e001778eee9975372716b2
</code></pre><h3 id=bandit-level-29--level-30>Bandit Level 29 → Level 30</h3>
<p><strong>Level Goal:</strong>
*There is a git repository at ssh://bandit29-git@localhost/home/bandit29-git/repo. The password for the user bandit29-git is the same as for the user bandit29
*</p>
<p>Lets remove the old repo and clone the new one and <code>cd</code> into it.</p>
<pre tabindex=0><code>bandit26@bandit:/tmp/giv_git/repo$ cd ..
bandit26@bandit:/tmp/giv_git$ rm -rf repo/
bandit26@bandit:/tmp/giv_git$
bandit26@bandit:/tmp/giv_git$ git clone  ssh://bandit29-git@localhost/home/bandit29-git/repo
Cloning into 'repo'...
The authenticity of host 'localhost (127.0.0.1)' can't be established.
ECDSA key fingerprint is SHA256:98UL0ZWr85496EtCRkKlo20X3OPnyPSB5tB5RPbhczc.
Are you sure you want to continue connecting (yes/no)? yes
Failed to add the host to the list of known hosts (/home/bandit26/.ssh/known_hosts).


bandit29-git@localhost's password:
remote: Counting objects: 16, done.
remote: Compressing objects: 100% (11/11), done.
remote: Total 16 (delta 2), reused 0 (delta 0)
Receiving objects: 100% (16/16), done.
Resolving deltas: 100% (2/2), done.
bandit26@bandit:/tmp/giv_git$ ls -la
total 2092
drwxr-sr-x     3 bandit26 root    4096 Sep 11 17:15 .
drwxrws-wt 18980 root     root 2129920 Sep 11 17:15 ..
drwxr-sr-x     3 bandit26 root    4096 Sep 11 17:15 repo
bandit26@bandit:/tmp/giv_git$ cd repo/
bandit26@bandit:/tmp/giv_git/repo$ ls -la
total 16
drwxr-sr-x 3 bandit26 root 4096 Sep 11 17:15 .
drwxr-sr-x 3 bandit26 root 4096 Sep 11 17:15 ..
drwxr-sr-x 8 bandit26 root 4096 Sep 11 17:15 .git
-rw-r--r-- 1 bandit26 root  131 Sep 11 17:15 README.md
</code></pre><p>If we <code>cat</code> the README.md there is a reference to &lsquo;passwords not being allowed in production&rsquo;. I&rsquo;d say passwords should not be allowed in version control software, but what do I know.</p>
<pre tabindex=0><code>bandit26@bandit:/tmp/giv_git/repo$ cat README.md

# Bandit Notes
Some notes for bandit30 of bandit.

## credentials

- username: bandit30
- password: &lt;no passwords in production!&gt;
</code></pre><p>Anyhow lets see if there are some other branches.</p>
<pre tabindex=0><code>bandit26@bandit:/tmp/giv_git/repo$ git branch -a
* master
  remotes/origin/HEAD-&gt; origin/master
  remotes/origin/dev
  remotes/origin/master
  remotes/origin/sploits-dev
</code></pre><p>Lets <code>git checkout</code> that <code>dev</code> branch and cat the README.md.</p>
<pre tabindex=0><code>bandit26@bandit:/tmp/giv_git/repo$ git checkout dev
Branch dev set up to track remote branch dev from origin.
Switched to a new branch 'dev'
bandit26@bandit:/tmp/giv_git/repo$ cat README.md

# Bandit Notes
Some notes for bandit30 of bandit.

## credentials

- username: bandit30
- password: 5b90576bedb2cc04c86a9e924ce42faf
</code></pre><h3 id=bandit-level-30--level-31>Bandit Level 30 → Level 31</h3>
<p><strong>Level Goal:</strong>
*There is a git repository at ssh://bandit30-git@localhost/home/bandit30-git/repo. The password for the user bandit30-git is the same as for the user bandit30.
*</p>
<p>Lets remove the old repo and clone the new one and <code>cd</code> into it.</p>
<pre tabindex=0><code>bandit26@bandit:/tmp/giv_git/repo$ cd ..
bandit26@bandit:/tmp/giv_git$ rm -rf repo/
bandit26@bandit:/tmp/giv_git$ git clone ssh://bandit30-git@localhost/home/bandit30-git/repo
Cloning into 'repo'...
The authenticity of host 'localhost (127.0.0.1)' can't be established.
ECDSA key fingerprint is SHA256:98UL0ZWr85496EtCRkKlo20X3OPnyPSB5tB5RPbhczc.
Are you sure you want to continue connecting (yes/no)? yes
Failed to add the host to the list of known hosts (/home/bandit26/.ssh/known_hosts).


bandit30-git@localhost's password:
remote: Counting objects: 4, done.
remote: Total 4 (delta 0), reused 0 (delta 0)
Receiving objects: 100% (4/4), done.
bandit26@bandit:/tmp/giv_git$
bandit26@bandit:/tmp/giv_git$ ls
repo
bandit26@bandit:/tmp/giv_git$ cd repo/
bandit26@bandit:/tmp/giv_git/repo$ ls -la
total 16
drwxr-sr-x 3 bandit26 root 4096 Sep 11 17:19 .
drwxr-sr-x 3 bandit26 root 4096 Sep 11 17:18 ..
drwxr-sr-x 8 bandit26 root 4096 Sep 11 17:19 .git
-rw-r--r-- 1 bandit26 root   30 Sep 11 17:19 README.md
</code></pre><p>Its seems someone placed a &lsquo;empty&rsquo; file here. If we check <code>git log</code> we only see 1 commit and there are no other branches. So whats left ? <code>tags</code>.</p>
<p>Lets check if there are some tags with <code>git tag -l</code> and <code>git show-ref --tags</code>.</p>
<pre tabindex=0><code>bandit26@bandit:/tmp/giv_git/repo$ cat README.md
just an epmty file... muahaha
andit26@bandit:/tmp/giv_git/repo/.git$ git tag -l
secret
bandit26@bandit:/tmp/giv_git/repo/.git$ git show-ref --tags
f17132340e8ee6c159e0a4a6bc6f80e1da3b1aea refs/tags/secret
</code></pre><p>Okay so we found some <code>tag</code> , how do we show this ? Well with <code>git show</code>.</p>
<pre tabindex=0><code>bandit26@bandit:/tmp/giv_git/repo$ git show secret
47e603bb428404d265f59c42920d81e5
</code></pre><h3 id=bandit-level-31--level-32>Bandit Level 31 → Level 32</h3>
<p><strong>Level Goal:</strong>
*There is a git repository at ssh://bandit31-git@localhost/home/bandit31-git/repo. The password for the user bandit31-git is the same as for the user bandit31.
*</p>
<p>Lets remove the old repo and clone the new one and cd into it.</p>
<pre tabindex=0><code>bandit26@bandit:/tmp/giv_git/repo$ cd ..
bandit26@bandit:/tmp/giv_git$ rm -rf repo/
bandit26@bandit:/tmp/giv_git$ ssh://bandit31-git@localhost/home/bandit31-git/repo
bash: ssh://bandit31-git@localhost/home/bandit31-git/repo: No such file or directory
bandit26@bandit:/tmp/giv_git$ git clone ssh://bandit31-git@localhost/home/bandit31-git/repo
Cloning into 'repo'...
The authenticity of host 'localhost (127.0.0.1)' can't be established.
ECDSA key fingerprint is SHA256:98UL0ZWr85496EtCRkKlo20X3OPnyPSB5tB5RPbhczc.
Are you sure you want to continue connecting (yes/no)? yes
Failed to add the host to the list of known hosts (/home/bandit26/.ssh/known_hosts).


bandit31-git@localhost's password:
remote: Counting objects: 4, done.
remote: Compressing objects: 100% (3/3), done.
remote: Total 4 (delta 0), reused 0 (delta 0)
Receiving objects: 100% (4/4), done.
bandit26@bandit:/tmp/giv_git$
bandit26@bandit:/tmp/giv_git$ ls
repo
bandit26@bandit:/tmp/giv_git$ cd repo/
bandit26@bandit:/tmp/giv_git/repo$ ls -la
total 24
drwxr-sr-x 3 bandit26 root 4096 Sep 11 17:37 .
drwxr-sr-x 3 bandit26 root 4096 Sep 11 17:36 ..
drwxr-sr-x 8 bandit26 root 4096 Sep 11 17:37 .git
-rw-r--r-- 1 bandit26 root    6 Sep 11 17:35 .gitignore
-rw-r--r-- 1 bandit26 root  147 Sep 11 17:35 README.md
</code></pre><p>First things first, lets look at that <code>.gitignore</code> file. It seems that someone has setup this <code>.gitignore</code> file to exclude all <code>txt</code> files.</p>
<pre tabindex=0><code>bandit26@bandit:/tmp/giv_git/repo$ cat .gitignore
*.txt
</code></pre><p>Lets look at the README.md.</p>
<pre tabindex=0><code>bandit26@bandit:/tmp/giv_git/repo$ cat README.md
This time your task is to push a file to the remote repository.

Details:
    File name: key.txt
    Content: 'May I come in?'
    Branch: master
</code></pre><p>It wants us to commit and push a file named <code>key.txt</code> to the remote repo. As we know from looking at the <code>.gitignore</code> file all <code>txt</code> files are ignored and unable to be pushed. So lets just create the <code>key.txt</code> file with the correct contents and remove the <code>.gitignore</code> file.</p>
<pre tabindex=0><code>bandit26@bandit:/tmp/giv_git/repo$ vim key.txt
May I come in?
bandit26@bandit:/tmp/giv_git/repo$ rm .gitignore
</code></pre><p>Before we are able to make a <code>commit</code> we need to tell <code>git</code> who are are.</p>
<pre tabindex=0><code>bandit26@bandit:/tmp/giv_git/repo$ git config user.email &quot;they@you.me&quot;
bandit26@bandit:/tmp/giv_git/repo$ git config user.name &quot;they@you.me&quot;
</code></pre><p>Now lets add the <code>key.txt</code> file, create a <code>commit</code> and <code>push</code> it.</p>
<pre tabindex=0><code>bandit26@bandit:/tmp/giv_git/repo$ git add key.txt
bandit26@bandit:/tmp/giv_git/repo$ git commit -m &quot;Added key.txt&quot;
[master 091067d] Added key.txt
 1 file changed, 1 insertion(+)
 create mode 100644 key.txt

bandit26@bandit:/tmp/giv_git/repo$ git push
The authenticity of host 'localhost (127.0.0.1)' can't be established.
ECDSA key fingerprint is SHA256:98UL0ZWr85496EtCRkKlo20X3OPnyPSB5tB5RPbhczc.
Are you sure you want to continue connecting (yes/no)? yes
Failed to add the host to the list of known hosts (/home/bandit26/.ssh/known_hosts).


bandit31-git@localhost's password:
Counting objects: 3, done.
Delta compression using up to 4 threads.
Compressing objects: 100% (2/2), done.
Writing objects: 100% (3/3), 317 bytes | 0 bytes/s, done.
Total 3 (delta 0), reused 0 (delta 0)
remote: ### Attempting to validate files... ####
remote:
remote: .oOo.oOo.oOo.oOo.oOo.oOo.oOo.oOo.oOo.oOo.
remote:
remote: Well done! Here is the password  for the next level:
remote: 56a9bf19c63d650ce78e6ec0354ee45e
remote:
remote: .oOo.oOo.oOo.oOo.oOo.oOo.oOo.oOo.oOo.oOo.
remote:
To ssh://localhost/home/bandit31-git/repo
 ! [remote rejected] master -&gt; master (pre-receive hook declined)
error: failed to push some refs to 'ssh://bandit31-git@localhost/home/bandit31-git/repo'
</code></pre>
</article>
<div class=pagination>
<a href=https://justin-p.me/blog/write-up-overthewire-bandit-level-25-level-27/>&#171; Write-up: OverTheWire - Bandit Level 25 → Level 27</a>
<a href=https://justin-p.me/blog/write-up-overthewire-bandit-level-level-32/>Write-up: OverTheWire - Bandit Level Level 32 → Level 33 &#187;</a>
</div>
</section>
<br>
<section class=disqus>
<div id=disqus_thread></div>
<script type=text/javascript>(function(){var b,a;if(window.location.hostname=="localhost")return;b='',a=document.createElement('script'),a.type='text/javascript',a.async=!0,a.src='//'+b+'.disqus.com/embed.js',(document.getElementsByTagName('head')[0]||document.getElementsByTagName('body')[0]).appendChild(a)})()</script>
<noscript>Please enable JavaScript to view comments powered by <a href=http://disqus.com/?ref_noscript>Disqus</a>.</noscript>
</section>
</section>
</main>
<footer class="row middle-xs center-xs">
<div class="col-xs-3 col-md-2"><a target=_blank rel=noopener href=https://github.com/justin-p>GitHub</a></div>
<div class="col-xs-3 col-md-2"><a target=_blank rel=noopener href=https://linkedin.com/in/justinperdok>LinkedIn</a></div>
<div class="col-xs-3 col-md-2"><a target=_blank rel=noopener href=https://twitter.com/JustinPerdok>Twitter</a></div>
</footer>
<script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js></script>
<script>hljs.initHighlightingOnLoad()</script>
<script src=https://justin-p.me/js/src/main.min.eae71e379c2461af7fb34269ff746c36d0aa5343dd34e47314df0f3808c2d2a1.js type=text/javascript></script>
</body>
</html>